<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BRK THE SILENCE</title>

<style>
*{box-sizing:border-box;margin:0;padding:0}

body{
background:#0b0b0b;
color:#fff;
font-family:Arial, sans-serif;
min-height:100vh;
display:flex;
flex-direction:column;
align-items:center;
}

/* LOGO */
.logo{
margin-top:18px;
letter-spacing:4px;
font-size:13px;
cursor:pointer;
}

/* HERO CENTER */
.heroWrap{
flex:1;
display:flex;
flex-direction:column;
justify-content:center;
align-items:center;
text-align:center;
width:100%;
padding:20px;
}

.heroTitle{
font-size:28px;
background:linear-gradient(90deg,#ff7a18,#ff00c8,#00c6ff);
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
margin-bottom:8px;
}

.heroSub{
color:#aaa;
font-size:14px;
margin-bottom:30px;
}

/* INPUT */
.inputWrap{
width:100%;
max-width:520px;
display:flex;
align-items:center;
border-radius:30px;
padding:6px;
background:linear-gradient(#0b0b0b,#0b0b0b) padding-box,
linear-gradient(90deg,#ff7a18,#ff00c8,#00c6ff) border-box;
border:2px solid transparent;
}

.inputWrap input{
flex:1;
padding:14px;
background:transparent;
border:none;
outline:none;
color:#fff;
font-size:15px;
}

.sendBtn{
padding:10px 16px;
border-radius:22px;
border:none;
background:#111;
color:#fff;
cursor:pointer;
}

/* FOOTER */
.footer{
text-align:center;
font-size:12px;
color:#777;
margin-top:12px;
}

/* CHAT PAGE */
.chatPage{
display:none;
flex-direction:column;
width:100%;
max-width:520px;
flex:1;
margin-top:30px;
}

.backBtn{
color:#aaa;
cursor:pointer;
margin-bottom:10px;
}

.messages{
flex:1;
overflow-y:auto;
padding-bottom:10px;
}

.msg{
padding:10px 14px;
border-radius:14px;
margin:6px 0;
max-width:80%;
line-height:1.5;
font-size:14px;
}

.user{
background:#1f1f1f;
margin-left:auto;
}

.bot{
background:#141414;
border:1px solid #2a2a2a;
}

/* bottom bar */
.bottomBar{
position:sticky;
bottom:0;
background:#0b0b0b;
padding-top:8px;
}

@media(max-width:600px){
.heroTitle{font-size:24px}
}
</style>
</head>

<body>

<div class="logo" onclick="goHome()">BRK THE SILENCE</div>

<!-- HERO -->
<div class="heroWrap" id="hero">
<div class="heroTitle">Empower your inner voice.</div>
<div class="heroSub">A quiet space to express what you usually keep inside.</div>

<div class="inputWrap">
<input id="startInput" placeholder="What’s on your mind">
<button class="sendBtn" onclick="startChat()">➤</button>
</div>

<div class="footer">
No Identity. No Judgement. Just Expression. |
<span onclick="openTC()" style="cursor:pointer;text-decoration:underline;">T&C</span>
</div>
</div>

<!-- CHAT -->
<div class="chatPage" id="chat">

<div class="backBtn" onclick="goHome()">← Back</div>

<div class="messages" id="messages"></div>

<div class="bottomBar">
<div class="inputWrap">
<input id="chatInput" placeholder="Type your message">
<button class="sendBtn" onclick="send()">➤</button>
</div>
</div>

</div>

<!-- T&C PAGE -->
<div id="tcPage" style="display:none;max-width:700px;padding:25px;line-height:1.7">

<h2>BRK The Silence — Terms & Conditions</h2>

<p>Welcome to BRK The Silence. This space exists for expression, connection, and self-growth.</p>

<p><strong>This platform is not medical, legal, or therapy advice.</strong></p>

<h3>Purpose</h3>
<p>• A safe space for expression<br>
• Sharing thoughts & emotions<br>
• Encouraging awareness & connection</p>

<h3>Emotional Content</h3>
<p>Shared experiences are for connection and awareness. If you are in severe distress, please seek professional support.</p>

<h3>User Respect</h3>
<p>Use this space with empathy and honesty. Harmful or abusive content may be removed.</p>

<h3>Privacy</h3>
<p>Your privacy matters. Avoid sharing sensitive personal details.</p>

<h3>Intellectual Property</h3>
<p>Content belongs to BRK The Silence. You may share with credit.</p>

<h3>Philosophy</h3>
<p>Authenticity over perfection.<br>
Expression over suppression.<br>
Connection over judgment.</p>

<p><strong>Speak. Feel. Heal. Grow.</strong></p>

<p style="margin-top:20px;cursor:pointer;color:#aaa" onclick="closeTC()">← Back</p>
</div>

<script>
const hero=document.getElementById("hero");
const chat=document.getElementById("chat");
const tc=document.getElementById("tcPage");

const startInput=document.getElementById("startInput");
const chatInput=document.getElementById("chatInput");
const messages=document.getElementById("messages");

/* ENTER works everywhere */
startInput.addEventListener("keydown",e=>{ if(e.key==="Enter") startChat(); });
chatInput.addEventListener("keydown",e=>{ if(e.key==="Enter") send(); });

function startChat(){
if(!startInput.value.trim()) return;

hero.style.display="none";
chat.style.display="flex";

addMessage(startInput.value,"user");
chatInput.focus();
getReply(startInput.value);

startInput.value="";
}

function send(){
const text=chatInput.value.trim();
if(!text) return;

addMessage(text,"user");
chatInput.value="";
getReply(text);
}

function addMessage(text,type){
const div=document.createElement("div");
div.className="msg "+type;
div.textContent=text;
messages.appendChild(div);
messages.scrollTop=messages.scrollHeight;
}

async function getReply(text){
addMessage("...","bot");

try{
const res=await fetch("/api/speak",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({message:text})
});

const data=await res.json();
messages.lastChild.remove();
addMessage(data.reply,"bot");

}catch{
messages.lastChild.textContent="Connection issue. Try again.";
}
}

function goHome(){
chat.style.display="none";
tc.style.display="none";
hero.style.display="flex";
startInput.focus();
}

function openTC(){
hero.style.display="none";
chat.style.display="none";
tc.style.display="block";
}

function closeTC(){
tc.style.display="none";
hero.style.display="flex";
}
</script>

</body>
</html>
