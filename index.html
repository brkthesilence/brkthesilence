<script>
/* ========= CHAT RESET SYSTEM ========= */

// Load chat (if exists)
window.onload = function () {
  const chatBox = document.getElementById("chatBox");
  const savedChat = sessionStorage.getItem("chatHistory");

  if (savedChat && chatBox) {
    chatBox.innerHTML = savedChat;
  }
};

// Save chat automatically
function saveChat() {
  const chatBox = document.getElementById("chatBox");
  sessionStorage.setItem("chatHistory", chatBox.innerHTML);
}

// Add new message
function addMessage(message, sender = "user") {
  const chatBox = document.getElementById("chatBox");

  const msg = document.createElement("div");
  msg.className = sender;
  msg.innerText = message;

  chatBox.appendChild(msg);

  saveChat();
}

// Start new chat
function newChat() {
  document.getElementById("chatBox").innerHTML = "";
  sessionStorage.removeItem("chatHistory");
}

// Go home & clear chat
function goHome() {
  sessionStorage.clear();
  window.location.href = "/";
}
</script>
